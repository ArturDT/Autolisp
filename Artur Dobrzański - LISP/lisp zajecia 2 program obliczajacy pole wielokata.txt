
(defun
      wczytajIloscLinii (/)
     	(setq ileLinii (getint))
  	(setq ileLinii (- ileLinii 2))
)
(defun
       rysujLinie (A B/)
  	(command "_line" A B "")
)
(setq iloscLinii (wczytajIloscLinii))
(setq A (getpoint))
(setq B (getpoint))
(setq poleFigury 0)
(setq FirstPoint A)
(command "_line" A B "")
(setq i 0)
(while (< i iloscLinii)
  		(setq C A)
    		(setq A B)
  		(setq B (getpoint))
		(rysujLinie A B)	
		(setq i (+ i 1))
  ;mam 3 punkty C A B, na ich podstawie mozna obliczac pole
  ;ze wzoru http://blog.klatecki.net/2013/09/liczenie-pola-powierzchni-wielokata.html
  ;P = P + (1/2 * X[i] (Y[i+1] - Y[i-1]))
  (setq poleKawalka (* (nth 1 A) (- (nth 0 B) (nth 0 C) )))
  (setq poleFigury (+ poleFigury poleKawalka))
)
(setq poleKawalka (* (nth 1 A) (- (nth 0 FirstPoint) (nth 0 C) )))
(setq poleFigury (+ poleFigury poleKawalka))
(setq poleFigury (/ poleFigury 2))
(command "_line" B FirstPoint "")
(print "Pole narysowanej figury wynosi:  ")
(print poleFigury)